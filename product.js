const floatingMenu=$(".main-menu"),main=$(".main"),floatingMenuTop=floatingMenu.offset().top-main.offset().top-8;floatingMenu.hide(),main.on("scroll",(()=>{main.scrollTop()>=floatingMenuTop?floatingMenu.fadeIn(200):floatingMenu.fadeOut(200)})),$(window).on("scroll",(()=>{const t=$(".section").offset().top-2*parseFloat(getComputedStyle(document.documentElement).fontSize)-24;window.innerWidth<480&&(window.scrollY>=t?floatingMenu.fadeIn(200):floatingMenu.fadeOut(200))}));const productGallery=new Flickity(".product-image-gallery",{imagesLoaded:!0,contain:!0,wrapAround:!0,freeScroll:!0,pageDots:!1,percentPosition:!1,prevNextButtons:!1,cellAlign:"left"});let dragStartX=0;const dragThreshold=10;productGallery.on("dragStart",(function(t,n){dragStartX=n.clientX})),productGallery.on("dragMove",(function(t,n){Math.abs(n.clientX-dragStartX)>10&&(productGallery.slider.style.pointerEvents="none")})),productGallery.on("dragEnd",(function(){productGallery.slider.style.pointerEvents="auto"}));const flickitySlider=document.querySelector(".flickity-slider");if(flickitySlider){const t=window.innerWidth;flickitySlider.style.left=t>=991?"1.5rem":".875rem"}const hamburgerMenuIcon=document.querySelector(".hamburger-menu-icon"),productImageGallery=document.querySelector(".product-image-gallery"),overlay=document.querySelector(".overlay");hamburgerMenuIcon.addEventListener("click",(function(){hamburgerMenuIcon.classList.contains("is-open")&&(productImageGallery.style.zIndex=2)})),overlay.addEventListener("click",(function(){productImageGallery.style.zIndex=9999})),hamburgerMenuIcon.addEventListener("click",(function(){hamburgerMenuIcon.classList.contains("is-close")&&(productImageGallery.style.zIndex=9999)}));const productRatingWrapper=document.querySelector(".product-rating-wrapper"),productRatingContainer=document.querySelectorAll(".product-rating-container.is-header"),containerHeight=productRatingContainer[0].clientHeight;if(productRatingWrapper.clientHeight>=2*containerHeight){productRatingContainer[productRatingContainer.length-1].style.paddingLeft=0;productRatingContainer[productRatingContainer.length-2].style.borderRight="none"}!function(t){var n=0,e=0,o=0,r=0;t.fn.line=function(i,a){this.each((function(l,c){var u,d=t(c),s=d.text();i=i||2,a=a||"...","static"===d.css("position")&&d.css("position","relative"),d.data("initial-content")||d.data("initial-content",s),d.data("initial-content").length>=s.length&&(s=d.data("initial-content")),d.html(function(t){arrWords=[];for(var n=t.length;n--;){var e=t[n].trim();arrWords[n]="<span>"+e+"</span> "}return arrWords}(s.split(" ")).join("")),u=function(t,n){linesString="";for(var e=0;e<n;e++){var o="";if(!t[e])break;lineLength=t[e].length;for(var r=0;r<lineLength;r++)o+=t[e][r].text()+" ";linesString+=o+"\n"}return linesString.trim()}(function(t,i){for(var a=[],l=0;l<t.length;l++,e++)0===l&&(a[0]=[],0!==t.eq(l).position().top&&(o=t.eq(l).position().top)),checkOffset=t.eq(l).position().top,checkOffset>o&&(o=checkOffset,n++,e=0,a[n]=[]),a[n][e]=t.eq(l);a[i]&&(r=1);return a}(d.find("span"),i),i),d.html(function(t,n){r&&(suffixLen=n.length,t=t.slice(0,-suffixLen),t=(t+=n).replace(" "+n,n),r=0);return t}(u,a)),console.log("Finish!"),0,n=0,e=0,o=0}))}}(jQuery),$(".product-description.is-section").lineCutter(2,"...");